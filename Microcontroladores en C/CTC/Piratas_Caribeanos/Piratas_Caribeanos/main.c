/*
 * Piratas_Caribeanos.c
 *
 * Created: 24/03/2018 11:10:33 p. m.
 * Author : LuisFernando
 */ 
#define F_CPU 16000000
#include <util/delay.h>
#include <avr/io.h>
#include <avr/interrupt.h>
uint16_t contador,j;
//Piratas del Caribe Prescalador a 256
//const uint8_t Notas[170]={95,255,80,255,71,255,71,255,71,255,63,255,60,255,60,255,60,255,53,255,63,255,63,255,71,255,80,255,80,255,71,255,255,255,95,255,80,255,71,255,71,255,71,255,63,255,60,255,60,255,60,255,53,255,63,255,63,255,71,255,80,255,80,255,71,255,255,255,95,255,80,255,71,255,71,255,71,255,60,255,53,255,53,255,53,255,47,255,45,255,45,255,47,255,53,255,47,255,71,255,255,255,71,255,63,255,60,255,60,255,53,255,47,255,71,255,255,255,71,255,60,255,63,255,63,255,60,255,71,255,63,255,255,255,95,255,80,255,71,255,71,255,71,255,63,255,60,255,60,255,60,255,53,255,63,255,63,255,71,255,80,255,80,255,71,255,255,255,255,255};
//const uint16_t Tiempo[170]={250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,250,63,250,63,125,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,250,63,250,63,125,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,250,63,250,63,125,63,250,63,250,63,500,63,500,63,500,63,250,63,250,63,125,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,125,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,500,63,500,63,250,63,250,63,250,63,250,63,125,63,125,63};
//Peril Escala 4 Prescalador a 256
//const uint8_t Notas[926]={60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,27,255,30,255,30,255,30,255,30,255,45,255,45,255,40,255,45,255,40,255,45,255,50,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,27,255,30,255,30,255,30,255,30,255,45,255,45,255,40,255,45,255,40,255,45,255,50,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,30,255,27,255,30,255,34,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,30,255,27,255,30,255,34,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,30,255,27,255,30,255,34,255,30,255,30,255,30,255,30,255,25,255,25,255,22,255,22,255,22,255,22,255,20,255,20,255,19,255,19,255,20,255,20,255,22,255,22,255,22,255,22,255,25,255,25,255,25,255,25,255,45,255,60,255,60,255,67,255,67,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,255,255};
//const uint16_t Tiempo[926]={125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,2000,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,1500,63,500,63,500,63};
//Peril Escala 3 Prescalador a 1024
const uint8_t Notas[926]={60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,60,255,60,255,50,255,50,255,53,255,53,255,60,255,60,255,60,255,60,255,89,255,89,255,80,255,89,255,80,255,89,255,100,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,27,255,30,255,30,255,30,255,30,255,45,255,45,255,40,255,45,255,40,255,45,255,50,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,27,255,30,255,30,255,30,255,30,255,45,255,45,255,40,255,45,255,40,255,45,255,50,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,30,255,27,255,30,255,34,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,30,255,27,255,30,255,34,255,30,255,30,255,30,255,30,255,25,255,25,255,27,255,30,255,27,255,30,255,34,255,30,255,30,255,30,255,30,255,25,255,25,255,22,255,22,255,22,255,22,255,20,255,20,255,19,255,19,255,20,255,20,255,22,255,22,255,22,255,22,255,25,255,25,255,25,255,25,255,45,255,60,255,60,255,67,255,67,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,60,255,60,255,89,255,89,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,40,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,30,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,34,255,255,255};
const uint16_t Tiempo[926]={125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,63,63,63,63,63,63,63,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,2000,63,250,63,125,63,250,63,125,63,500,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,250,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,125,63,1500,63,500,63,500,63};

ISR(TIMER0_COMPA_vect){
	uint8_t t=t+1;
}
int main(void)
{
	DDRB=(1<<PB7);
	TCCR0A=(0<<COM0A1)|(1<<COM0A0)|(0<<COM0B1)|(0<<COM0B0)|(0<<3)|(0<<2)|(1<<WGM01)|(0<<WGM00);//Alternar OC0A y Modo CTC.
	TCCR0B=(0<<FOC0A)|(0<<FOC0B)|(0<<5)|(0<<4)|(0<<WGM02)|(1<<CS02)|(0<<CS01)|(1<<CS00);//Modo CTC y Prescalador a 256.
	TIMSK0=(0<<7)|(0<<6)|(0<<5)|(0<<4)|(0<<3)|(0<<OCIE0B)|(1<<OCIE0A)|(0<<TOIE0);//Interrupción solo por OCIE0A.
	TCNT0=0x00;
	OCR0A=0x00;
	OCR0B=0x00;
    sei();
	/* Replace with your application code */
    while (1) 
    {
	  for(contador=0;contador<926;contador++){
	 	 if(Notas[contador]==255){
		  TCCR0A=(1<<COM0A1)|(0<<COM0A0)|(0<<COM0B1)|(0<<COM0B0)|(0<<3)|(0<<2)|(1<<WGM01)|(0<<WGM00);
		 }
		 else{
		  TCCR0A=(0<<COM0A1)|(1<<COM0A0)|(0<<COM0B1)|(0<<COM0B0)|(0<<3)|(0<<2)|(1<<WGM01)|(0<<WGM00);	 
		 }
		 OCR0A=Notas[contador];
		 for(j=0;j<Tiempo[contador];j++){
		 _delay_ms(1);}
	  }
    }
}